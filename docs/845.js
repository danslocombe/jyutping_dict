"use strict";(self.webpackChunkrust_webpack_template=self.webpackChunkrust_webpack_template||[]).push([[845],{300:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{tg:()=>i.tg});var o=n(650),i=n(408),c=e([o]);o=(c.then?(await c)():c)[0],(0,i.lI)(o),o.__wbindgen_start(),r()}catch(e){r(e)}}))},408:(e,t,n)=>{let r;function o(e){r=e}n.d(t,{EF:()=>E,M$:()=>b,N7:()=>g,Qn:()=>T,ZH:()=>w,bL:()=>y,lI:()=>o,tg:()=>p,yc:()=>C}),e=n.hmd(e);let i=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let c=null;function l(){return null!==c&&0!==c.byteLength||(c=new Uint8Array(r.memory.buffer)),c}function a(e,t){return e>>>=0,i.decode(l().subarray(e,e+t))}let d=0,s=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const u="function"==typeof s.encodeInto?function(e,t){return s.encodeInto(e,t)}:function(e,t){const n=s.encode(e);return t.set(n),{read:e.length,written:n.length}};function f(e,t,n){if(void 0===n){const n=s.encode(e),r=t(n.length,1)>>>0;return l().subarray(r,r+n.length).set(n),d=n.length,r}let r=e.length,o=t(r,1)>>>0;const i=l();let c=0;for(;c<r;c++){const t=e.charCodeAt(c);if(t>127)break;i[o+c]=t}if(c!==r){0!==c&&(e=e.slice(c)),o=n(o,r,r=c+3*e.length,1)>>>0;const t=l().subarray(o+c,o+r);c+=u(e,t).written,o=n(o,r,c,1)>>>0}return d=c,o}let h=null;function m(){return(null===h||!0===h.buffer.detached||void 0===h.buffer.detached&&h.buffer!==r.memory.buffer)&&(h=new DataView(r.memory.buffer)),h}const _="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>r.__wbg_jyutpingsearch_free(e>>>0,1)));class p{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,_.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_jyutpingsearch_free(e,0)}constructor(e){const t=function(e,t){const n=t(1*e.length,1)>>>0;return l().set(e,n/1),d=e.length,n}(e,r.__wbindgen_malloc),n=d,o=r.jyutpingsearch_new(t,n);return this.__wbg_ptr=o>>>0,_.register(this,this.__wbg_ptr,this),this}search(e,t){let n,o;try{const i=f(e,r.__wbindgen_malloc,r.__wbindgen_realloc),c=d,l=r.jyutpingsearch_search(this.__wbg_ptr,i,c,t);return n=l[0],o=l[1],a(l[0],l[1])}finally{r.__wbindgen_free(n,o,1)}}}function g(e,t){let n,o;try{n=e,o=t,console.error(a(e,t))}finally{r.__wbindgen_free(n,o,1)}}function b(e){console.log(e)}function E(){return new Error}function w(e,t){const n=f(t.stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=d;m().setInt32(e+4,o,!0),m().setInt32(e+0,n,!0)}function y(){const e=r.__wbindgen_export_3,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}function C(e,t){return a(e,t)}function T(e,t){throw new Error(a(e,t))}},650:(e,t,n)=>{var r=n(408),o=n(708);e.exports=n.v(t,e.id,"263d969131a972a581ab",{"./index_bg.js":{__wbg_new_e1783397fe548703:r.EF,__wbg_stack_a86c1d26fea867df:r.ZH,__wbg_error_e4ae10165260c6e8:r.N7,__wbindgen_string_new:r.yc,__wbg_log_31ba0a55511144c4:r.M$,__wbindgen_throw:r.Qn,__wbindgen_init_externref_table:r.bL},"./snippets/rust-webpack-template-eb3e344350874cf2/inline1.js":{performance_now:o.G}})},708:(e,t,n)=>{function r(){return performance.now()}n.d(t,{G:()=>r})},845:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.r(t);var o=n(300),i=e([o]);o=(i.then?(await i)():i)[0];const m=window.location.search,_=new URLSearchParams(m);var c,l=_.get("q"),a=document.getElementById("entry"),d=document.getElementById("results"),s=document.getElementById("explanation"),u="1"===_.get("debug"),f="",h=12;function p(e){return"CEDict"===e?"generated":"CCanto"===e?"nimi-pu":""}function g(e,t){const n=JSON.parse(t),r=n.results;if(0!=r.length){var o=document.createElement("ul");if(o.setAttribute("class","card"),u){let e=document.createElement("div");e.setAttribute("class","debug-info");let t=document.createElement("pre");t.innerText=JSON.stringify(n.timings,null,2),e.appendChild(t),o.appendChild(e);const r=document.createElement("hr");o.appendChild(r)}for(let e of r){let t=document.createElement("li");t.setAttribute("class","card-item");let n=e.rendered_entry.entry_source,r=p(n),i=document.createElement("span");i.setAttribute("class","item-english");let c=document.createElement("h2");c.setAttribute("class","title"),c.innerHTML=E(e.rendered_entry.characters),i.appendChild(c);let l=document.createElement("span");l.setAttribute("class","item-jyutping");{let t=document.createElement("h3");t.setAttribute("class","title"),t.setAttribute("title",e.rendered_entry.entry_source),t.innerHTML=b(e.rendered_entry.jyutping),l.appendChild(t)}t.appendChild(l),t.appendChild(i),o.appendChild(t);for(let t=0;t<e.rendered_entry.english_definitions.length;t++){let n=e.rendered_entry.english_definitions[t],r=document.createElement("li");r.setAttribute("class","card-item");let i=document.createElement("span");i.setAttribute("class","item-english indent"),i.innerHTML=n,r.appendChild(i),o.appendChild(r)}let a=document.createElement("p");if(a.setAttribute("class","item-english "+r),"CEDict"===n?a.innerText="(Sourced from CEDict)":"CCanto"==n&&(a.innerText="(Sourced from CC-Canto)"),o.appendChild(a),u){let t=document.createElement("div");t.setAttribute("class","debug-info");let n=document.createElement("pre");n.innerText=JSON.stringify(e,null,2),t.appendChild(n),o.appendChild(t)}}if(d.appendChild(o),r.length===h){var i=document.createElement("button");i.setAttribute("class","load-more-btn"),i.innerText="More",i.onclick=()=>{h*=2,(()=>{d.innerHTML="";g(0,c.search(f,h))})()},d.appendChild(i)}}}function b(e){const t=document.createElement("div");t.innerHTML=e;const n=document.createElement("div");return w(t,n),n.innerHTML}function E(e){const t=document.createElement("div");t.innerHTML=e;const n=document.createElement("div");return y(t,n),n.innerHTML}function w(e,t){let n=null,r="";function o(){n&&r.trim().length>0&&(n.href=`?q=${encodeURIComponent(r.trim())}`,t.appendChild(n),n=null,r="")}function i(e){if(e.nodeType===Node.TEXT_NODE){const i=e.textContent.split(/(\s+)/);for(let e of i)e.trim().length>0?(n||(n=document.createElement("a"),n.className="jyutping-link"),n.appendChild(document.createTextNode(e)),r+=e):e.length>0&&(o(),t.appendChild(document.createTextNode(e)))}else if(e.nodeType===Node.ELEMENT_NODE){n||(n=document.createElement("a"),n.className="jyutping-link");const t=document.createElement(e.tagName);for(let n of e.attributes)t.setAttribute(n.name,n.value);for(let n of e.childNodes)c(n,t);n.appendChild(t)}}function c(e,t){if(e.nodeType===Node.TEXT_NODE)t.appendChild(document.createTextNode(e.textContent)),r+=e.textContent;else if(e.nodeType===Node.ELEMENT_NODE){const n=document.createElement(e.tagName);for(let t of e.attributes)n.setAttribute(t.name,t.value);for(let t of e.childNodes)c(t,n);t.appendChild(n)}}for(let t of e.childNodes)i(t);o()}function y(e,t){function n(e){if(e.nodeType===Node.TEXT_NODE){const n=e.textContent;for(let e of n){const n=document.createElement("a");n.href=`?q=${encodeURIComponent(e)}`,n.className="character-link",n.textContent=e,t.appendChild(n)}}else if(e.nodeType===Node.ELEMENT_NODE){const n=document.createElement(e.tagName);for(let t of e.attributes)n.setAttribute(t.name,t.value);for(let t of e.childNodes)if(t.nodeType===Node.TEXT_NODE)for(let e of t.textContent){const t=document.createElement("a");t.href=`?q=${encodeURIComponent(e)}`,t.className="character-link",t.textContent=e,n.appendChild(t)}else r(t,n);t.appendChild(n)}}function r(e,t){if(e.nodeType===Node.TEXT_NODE)for(let n of e.textContent){const e=document.createElement("a");e.href=`?q=${encodeURIComponent(n)}`,e.className="character-link",e.textContent=n,t.appendChild(e)}else if(e.nodeType===Node.ELEMENT_NODE){const n=document.createElement(e.tagName);for(let t of e.attributes)n.setAttribute(t.name,t.value);for(let t of e.childNodes)r(t,n);t.appendChild(n)}}for(let t of e.childNodes)n(t)}fetch("full.jyp_dict",{cache:"force-cache"}).then((e=>{if(!e.ok)throw new Error(`Failed to fetch dictionary blob: ${e.status} ${e.statusText}`);return e.arrayBuffer()})).then((e=>{console.log("Got dictionary blob {} bytes",e.byteLength);const t=new Uint8Array(e);c=new o.tg(t),console.log("Finished search init!"),a.removeAttribute("disabled"),a.setAttribute("placeholder","lou5 si1, teacher, 老師, ..."),a.focus();const n=e=>{if(d.innerHTML="",e.length>0){f!==e&&(f=e,h=12),g(0,c.search(e,h)),s.hidden=!0;const t=new URL(window.location);t.searchParams.set("q",e),window.history.replaceState({},"",t)}else{a.setAttribute("placeholder",""),s.hidden=!1,f="",h=12;const e=new URL(window.location);e.searchParams.delete("q"),window.history.replaceState({},"",e)}};a.addEventListener("input",(e=>n(e.target.value))),l&&(n(l),a.value=l)})),r()}catch(C){r(C)}}))}}]);